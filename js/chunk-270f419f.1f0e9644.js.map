{"version":3,"sources":["webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?be94","webpack:///./src/views/Register.vue?15de"],"names":["class","type","validation-schema","schema","register","name","placeholder","errMsg","to","email","password","password_confirmation","router","data","value","method","url","push","then","response","errors","setup","__exports__","render"],"mappings":"6NACQA,MAAM,sC,GACLA,MAAM,wD,GAEFA,MAAM,uB,uBACT,eAAyD,KAAtDA,MAAM,6CAA2C,Y,GAKjDA,MAAM,sB,uBACT,eAA8D,KAA3DA,MAAM,kDAAgD,Y,GAKtDA,MAAM,0B,uBACT,eAAyD,KAAtDA,MAAM,6CAA2C,Y,GAKjDA,MAAM,uC,uBACT,eAAoE,KAAjEA,MAAM,wDAAsD,Y,SAK9DA,MAAM,4D,uBAET,eAGS,UAHDC,KAAK,SAASD,MAAM,sGACmD,QAE/E,M,GAEGA,MAAM,oD,uBACT,eAAmC,KAAhCA,MAAM,kBAAiB,SAAK,M,iBAEgB,Q,8KArCrD,eA0CO,OA1CP,EA0CO,CAzCL,eAwCM,MAxCN,EAwCM,CAvCJ,eA+BU,GA/BAE,oBAAmB,EAAAC,OAAS,SAAQ,EAAAC,SAAUJ,MAAM,a,yBAC5D,iBAKM,CALN,eAKM,MALN,EAKM,CAJJ,EACA,eACyD,GAD/CC,KAAK,QAAQI,KAAK,QAAQC,YAAY,OAC9CN,MAAM,iDACN,eAA4D,GAA9CA,MAAM,yBAAyBK,KAAK,YAEtD,eAKM,MALN,EAKM,CAJJ,EACA,eACyD,GAD/CJ,KAAK,OAAOI,KAAK,OAAOC,YAAY,KAC5CN,MAAM,iDACN,eAA2D,GAA7CA,MAAM,yBAAyBK,KAAK,WAEtD,eAKM,MALN,EAKM,CAJJ,EACA,eACyD,GAD/CJ,KAAK,WAAWI,KAAK,WAAWC,YAAY,KACpDN,MAAM,iDACN,eAA+D,GAAjDA,MAAM,yBAAyBK,KAAK,eAEtD,eAKM,MALN,EAKM,CAJJ,EACA,eACyD,GAD/CJ,KAAK,WAAWI,KAAK,wBAAwBC,YAAY,OACjEN,MAAM,iDACN,eAA4E,GAA9DA,MAAM,yBAAyBK,KAAK,4BAG5C,EAAAE,Q,iBADV,eACkC,IADlC,EACkC,eAAb,EAAAA,QAAM,I,sBAC3B,M,yCAKF,eAMM,MANN,EAMM,CALJ,EACA,eAGc,GAHDP,MAAM,0EACKQ,GAAI,gB,yBAAmB,iBAE/C,C,uGAaFL,EAAU,CACdE,KAAM,wBACNI,MAAO,8BACPC,SAAU,wBACVC,sBAAuB,gCAInB,EAAiB,WACrB,IAAMC,EAAS,iBACTL,EAAS,eAAI,IACbH,EAAO,yDAAI,WAAOS,GAAP,wFACfN,EAAOO,MAAQ,GACf,eAAY,UAFG,kBAIP,IAAM,CACVC,OAAQ,OACRC,IAAK,mDACLH,SAPW,OASbD,EAAOK,KAAK,CAAEZ,KAAM,UAAWa,MAAK,kBAAM,eAAc,WAT3C,mDAWbX,EAAOO,MAAQ,KAAMK,SAASN,KAAKO,OAAOX,MAAM,IAAM,GAXzC,QAaf,iBAbe,yDAAJ,sDAeb,MAAO,CAAEF,SAAQH,aAGJ,GACbC,KAAM,WACNgB,MAFa,WAGX,MAA6B,IAArBd,EAAR,EAAQA,OAAQH,EAAhB,EAAgBA,SAEhB,MAAO,CAAEA,WAAUD,SAAQI,Y,iCChF/B,MAAMe,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf,W","file":"js/chunk-270f419f.1f0e9644.js","sourcesContent":["<template>\n  <main class=\"main overflow-hidden p-20 relative\">\n    <div class=\"registerform bg-purple-200 bg-opacity-80 p-4 rounded\">\n      <VeeForm :validation-schema=\"schema\" @submit=\"register\" class=\"space-y-3\">\n        <div class=\"emailgroup relative\">\n          <i class=\"fas fa-user absolute top-2 left-3 text-xl\"></i>\n          <VeeField type=\"email\" name=\"email\" placeholder=\"電子郵件\"\n            class=\"h-10 pl-10 text-xl block w-full rounded mb-3\" />\n            <ErrorMessage class=\"text-red-600 font-bold\" name=\"email\" />\n        </div>\n        <div class=\"namegroup relative\">\n          <i class=\"fas fa-signature absolute top-2 left-3 text-xl\"></i>\n          <VeeField type=\"text\" name=\"name\" placeholder=\"暱稱\"\n            class=\"h-10 pl-10 text-xl block w-full rounded mb-3\" />\n            <ErrorMessage class=\"text-red-600 font-bold\" name=\"name\" />\n        </div>\n        <div class=\"passwordgroup relative\">\n          <i class=\"fas fa-lock absolute top-2 left-3 text-xl\"></i>\n          <VeeField type=\"password\" name=\"password\" placeholder=\"密碼\"\n            class=\"h-10 px-10 text-xl block w-full rounded mb-3\" />\n            <ErrorMessage class=\"text-red-600 font-bold\" name=\"password\" />\n        </div>\n        <div class=\"password_confirmationgroup relative\">\n          <i class=\"fas fa-clipboard-check absolute top-2 left-3 text-xl\"></i>\n          <VeeField type=\"password\" name=\"password_confirmation\" placeholder=\"確認密碼\"\n            class=\"h-10 px-10 text-xl block w-full rounded mb-3\" />\n            <ErrorMessage class=\"text-red-600 font-bold\" name=\"password_confirmation\" />\n        </div>\n        <p class=\"text-white text-center bg-red-500 px-2 py-1 rounded mb-2\"\n            v-if=\"errMsg\">{{ errMsg }}</p>\n        <button type=\"submit\" class=\"block w-full font-bold\n          bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700\">\n            註冊\n        </button>\n      </VeeForm>\n      <div class=\"mt-3 pt-2 border-gray-400 border-t-2 text-center\">\n        <p class=\"font-bold mb-3\">已有帳戶?</p>\n        <router-link class=\"block w-full rounded-full border-2 py-1.5 font-bold\n          hover:bg-purple-200\" :to=\"{ name: 'login' }\">\n          登入\n        </router-link>\n      </div>\n    </div>\n  </main>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport { successNotify } from '@/composables/useNotification';\nimport { showLoading, hideLoading } from '@/composables/useLoading';\n\nconst schema = ({\n  name: 'required|min:3|max:10',\n  email: 'required|min:3|max:50|email',\n  password: 'required|min:6|max:32',\n  password_confirmation: 'passwords_mismatch:@password',\n});\n\n// 註冊\nconst handleRegister = () => {\n  const router = useRouter();\n  const errMsg = ref('');\n  const register = async (data) => {\n    errMsg.value = '';\n    showLoading('註冊中...');\n    try {\n      await axios({\n        method: 'post',\n        url: 'https://api.sally-handmade.com/music/v1/register',\n        data,\n      });\n      router.push({ name: 'login' }).then(() => successNotify('註冊成功'));\n    } catch (error) {\n      errMsg.value = error.response.data.errors.email[0] || '';\n    }\n    hideLoading();\n  };\n  return { errMsg, register };\n};\n\nexport default {\n  name: 'Register',\n  setup() {\n    const { errMsg, register } = handleRegister();\n    // eslint-disable-next-line object-curly-newline\n    return { register, schema, errMsg };\n  },\n};\n</script>\n\n<style scoped>\n.main {\n  height: 100vh;\n  background: url('../assets/login-bg.jpg');\n  background-position: bottom center;\n}\n.registerform {\n  width: 450px;\n  margin: 0 auto;\n  box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\n}\n</style>\n","import { render } from \"./Register.vue?vue&type=template&id=445ea777&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=445ea777&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\xampp\\\\htdocs\\\\song\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-445ea777\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=445ea777&scoped=true&lang=css\""],"sourceRoot":""}