(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3f255ae"],{"81b9":function(e,t,n){},"8dc3":function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("7a23"),r=function(e){return Object(a["D"])("data-v-0a09ade6"),e=e(),Object(a["B"])(),e},c={class:"song p-5 w-full h-full flex"},u={class:"bg-gray-900 rounded-full w-12 h-12 flex justify-center items-center absolute top-3 right-3"},s={class:"w-28 h-28 rounded-full overflow-hidden absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},i=["src"],o={class:"p-10"},l={class:"flex mb-10 items-center"},b=r((function(){return Object(a["i"])("i",{class:"fa fa-play ml-1 text-3xl text-gray-300"},null,-1)})),f=[b],g={class:"text-4xl text-gray-800 font-black p-2 mb-10"},d={class:"text-2xl text-gray-800 font-black p-2"};function v(e,t,r,b,v,p){return Object(a["A"])(),Object(a["h"])("section",c,[Object(a["i"])("div",{class:Object(a["t"])(["w-full xl:w-1/2 bg-opacity-50 relative transform duration-300",b.isPlay?"bg-blue-400":"bg-yellow-400"])},[Object(a["X"])(Object(a["i"])("button",u,[Object(a["i"])("i",{class:Object(a["t"])(["far fa-heart text-2xl text-red-600",b.isLike?"fa":"far"]),onClick:t[0]||(t[0]=function(){return b.favorite&&b.favorite.apply(b,arguments)})},null,2)],512),[[a["S"],b.isLogin]]),Object(a["i"])("div",{class:"record w-60 h-60 relative mb-10",style:Object(a["u"])({"animation-play-state":b.play?"running":"paused"})},[Object(a["i"])("div",s,[Object(a["i"])("img",{src:b.data.song.image||n("58f6"),alt:"song photo",class:"w-full h-full"},null,8,i)])],4),Object(a["i"])("div",o,[Object(a["i"])("div",l,[Object(a["i"])("button",{class:"bg-gray-900 rounded-full w-20 h-20 flex justify-center items-center",onClick:t[1]||(t[1]=Object(a["Z"])((function(e){return b.newSong(b.song)}),["prevent"]))},f)]),Object(a["i"])("div",null,[Object(a["i"])("h2",g,Object(a["M"])(b.data.song.name),1),Object(a["i"])("span",d,Object(a["M"])(b.data.song.composer),1)])])],2)])}var p=n("1da1"),j=(n("96cf"),n("159b"),n("5502")),O=n("6c02"),h=n("bc3a"),m=n.n(h),x=n("3950"),w=n("b250"),k=function(e){var t={songs:[]},n=Object(a["G"])(!1),r=function(){var a=Object(p["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(x["a"])("get","v1/music/like");case 3:r=a.sent,t.songs=r.data.data,t.songs.forEach((function(t){t.id===+e&&(n.value=!0)})),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}();return{getFaoriteSong:r,status:n}},y=function(e){var t=Object(O["d"])(),n=Object(a["E"])({song:[]}),r={value:[]},c=function(){var a=Object(p["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(void 0!==e){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,m()({method:"get",url:"https://api.sally-handmade.com/music/v1/music/".concat(e)}).then((function(e){r.value=e.data.data,n.song=e.data.data})).catch((function(e){404===e.response.status&&t.push({name:"notfound"})}));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return{data:n,song:r,getSongData:c}},S=function(e,t){var n=t,a=function(){var a=Object(p["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.value){a.next=12;break}return a.prev=1,a.next=4,Object(x["a"])("get","v1/music/".concat(e,"/like"));case 4:n.value=!0,a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](1),console.log(a.t0);case 10:a.next=21;break;case 12:return a.prev=12,a.next=15,Object(x["a"])("get","v1/music/".concat(e,"/unlike"));case 15:n.value=!1,a.next=21;break;case 18:a.prev=18,a.t1=a["catch"](12),console.log(a.t1);case 21:case"end":return a.stop()}}),a,null,[[1,7],[12,18]])})));return function(){return a.apply(this,arguments)}}();return{favorite:a,isLike:n}},L={name:"Song",setup:function(){var e=Object(O["c"])(),t=Object(j["b"])(),n=Object(a["d"])((function(){return e.params.songId})),r=Object(a["d"])((function(){return t.getters.getCurrentSong})),c=Object(a["d"])((function(){return t.getters.playing})),u=Object(a["G"])(r.value.id===+n.value),s=Object(a["G"])(w["a"].get("userToken")),i=k(n.value),o=i.getFaoriteSong,l=i.status,b=S(n.value,l),f=b.favorite,g=b.isLike,d=y(n.value),v=d.data,p=d.song,h=d.getSongData;s.value&&o(),h();var m=function(){t.dispatch("newSong",p.value)};return Object(a["U"])(r,(function(){u.value=r.value.id===+n.value||!1})),Object(a["U"])(n,(function(){h()})),Object(a["V"])((function(){return S(n,l)})),{songId:n,play:c,isPlay:u,song:p,data:v,newSong:m,isLike:g,favorite:f,isLogin:s}}},R=(n("b369"),n("6b0d")),C=n.n(R);const D=C()(L,[["render",v],["__scopeId","data-v-0a09ade6"]]);t["default"]=D},b369:function(e,t,n){"use strict";n("81b9")}}]);
//# sourceMappingURL=chunk-b3f255ae.facedb5b.js.map