{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/back/Admin.vue?dcf7","webpack:///./src/views/back/Admin.vue","webpack:///./src/views/back/Admin.vue?775b","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","class","type","adminLogin","name","placeholder","email","showPwd","toggleType","ref","password","errMsg","pwd","value","router","data","method","url","then","res","storage","set","access_token","refresh_token","push","catch","setup","__exports__","render","PROPER_FUNCTION_NAME","PROPER","fails","whitespaces","non","module","exports","METHOD_NAME"],"mappings":"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","file":"js/chunk-0917e166.94063ae0.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Admin.vue?vue&type=style&index=0&id=07f5ff1e&scoped=true&lang=css\"","<template>\n  <main class=\"main overflow-hidden p-20 relative\">\n    <form @submit.prevent=\"adminLogin\"\n      class=\"bg-blue-200 bg-opacity-80 p-4 rounded\">\n      <div class=\"emailgroup relative mb-3\">\n        <i class=\"fas fa-user absolute top-2 left-3 text-xl\"></i>\n        <input type=\"email\" name=\"email\" placeholder=\"管理者帳號\"\n          class=\"h-10 pl-10 text-xl block w-full rounded\" v-model=\"email\">\n      </div>\n      <div class=\"passwordgroup relative mb-2\">\n        <i class=\"fas fa-lock absolute top-2 left-3 text-xl\"></i>\n        <i class=\"absolute top-2 right-3 text-xl cursor-pointer\"\n          :class=\"showPwd ? 'fas fa-eye-slash' : 'fas fa-eye'\" @click=\"toggleType\"></i>\n        <input type=\"password\" name=\"password\" ref=\"pwd\" placeholder=\"密碼\"\n          class=\"password h-10 px-10 text-xl block w-full rounded\" v-model=\"password\">\n      </div>\n      <p class=\"text-white text-center bg-red-500 px-2 py-1 rounded mb-2\"\n          v-if=\"errMsg\">{{ errMsg }}</p>\n      <button type=\"submit\" class=\"block w-full mb-3 font-bold bg-blue-600\n        text-white py-1.5 px-3 rounded transition hover:bg-blue-700\">\n          登入\n      </button>\n    </form>\n  </main>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport storage from '@/includes/storage';\nimport { successNotify } from '@/composables/useNotification';\nimport { showLoading, hideLoading } from '@/composables/useLoading';\n\nconst handlePwdType = () => {\n  const pwd = ref(null);\n  const showPwd = ref(false);\n  const toggleType = () => {\n    if (!showPwd.value) {\n      pwd.value.type = 'text';\n    } else {\n      pwd.value.type = 'password';\n    }\n    showPwd.value = !showPwd.value;\n  };\n  return { pwd, showPwd, toggleType };\n};\n\n// 後台登入\nconst handleAdminLogin = () => {\n  const router = useRouter();\n  const email = ref('admin@gmail.com');\n  const password = ref('musicmusic');\n  const errMsg = ref('');\n  const adminLogin = async () => {\n    const data = { email: email.value, password: password.value };\n    if (data.email.trim() !== '' && data.password.trim() !== '') {\n      errMsg.value = '';\n      showLoading('登入中...');\n      await axios({\n        method: 'post',\n        url: 'https://api.sally-handmade.com/music/v1/admin/login',\n        data,\n      }).then((res) => {\n        storage.set('adminToken', res.data.access_token);\n        storage.set('adminRefresh', res.data.refresh_token);\n        router.push({ name: 'manage' }).then(() => successNotify('登入成功'));\n      }).catch(() => {\n        password.value = '';\n        errMsg.value = '帳號或密碼有誤，請重新輸入!';\n      });\n    } else {\n      password.value = '';\n      errMsg.value = '帳號或密碼不能為空!';\n    }\n    hideLoading();\n  };\n  // eslint-disable-next-line object-curly-newline\n  return { email, password, errMsg, adminLogin };\n};\n\nexport default {\n  name: 'Admin',\n  setup() {\n    const { pwd, showPwd, toggleType } = handlePwdType();\n    // eslint-disable-next-line object-curly-newline\n    const { email, password, errMsg, adminLogin } = handleAdminLogin();\n    return {\n      adminLogin, email, password, errMsg, pwd, showPwd, toggleType,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.main {\n  height: 100vh;\n  background: url('../../assets/login-bg.jpg');\n  background-position: bottom center;\n}\nform {\n  width: 450px;\n  margin: 0 auto;\n  box-shadow: 0 2px 4px rgb(0, 0, 0, .1), 0 8px 16px rgb(0, 0, 0, .1);\n}\n</style>\n","import { render } from \"./Admin.vue?vue&type=template&id=07f5ff1e&scoped=true\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\n\nimport \"./Admin.vue?vue&type=style&index=0&id=07f5ff1e&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\xampp\\\\htdocs\\\\song\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07f5ff1e\"]])\n\nexport default __exports__","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n"],"sourceRoot":""}