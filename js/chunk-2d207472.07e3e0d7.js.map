{"version":3,"sources":["webpack:///./src/views/Favorite.vue","webpack:///./src/views/Favorite.vue?88ec"],"names":["class","songs","length","song","key","id","to","style","image","src","alt","title","name","composer","router","favoriteList","getFaoriteSong","storage","get","push","then","request","res","data","console","log","setup","defaultImg","__exports__","render"],"mappings":"oJACOA,MAAM,2B,SAEHA,MAAM,Q,aAGRA,MAAM,uE,GAICA,MAAM,sD,yBAORA,MAAM,iB,oFAhBjB,eAoBM,MApBN,EAoBM,C,eAnBJ,eAGM,YAFmB,EAAAC,MAAMC,Q,iBAA7B,eAA+C,KAA/C,EAAqC,W,iBACrC,eAA0B,OAAf,gB,cAFA,EAAAD,MAAMC,UAInB,eAcK,KAdL,EAcK,E,mBAbH,eAYK,2BAZc,EAAAD,OAAK,SAAbE,G,wBAAX,eAYK,MAZsBC,IAAKD,EAAKE,I,CACnC,eAUc,GAVAC,GAAE,4BAAoCH,EAAKE,KACvDL,MAAM,wD,yBACN,iBAKM,CALN,eAKM,MALN,EAKM,CAJJ,eAEiE,OAF5DA,MAAM,4CACRO,MAAK,gCAAoBJ,EAAKK,M,OAA+B,EAAK,MAAK,WAAkB,aAAU,O,QAEtG,eAA6E,OAAvEC,IAAKN,EAAKK,OAAS,EAAQ,QAA2BE,IAAI,c,YAElE,eAAmE,MAA/DV,MAAM,kBAAmBW,MAAOR,EAAKS,M,eAAST,EAAKS,MAAI,KAC3D,eAAgD,IAAhD,EAAgD,eAApBT,EAAKU,UAAQ,O,yHAgB7C,EAAqB,WACzB,IAAMC,EAAS,iBACTC,EAAe,eAAS,CAAEd,MAAO,KAEjCe,EAAa,yDAAK,uGACjBC,EAAA,KAAQC,IAAI,aADK,uBAEpBJ,EAAOK,KAAK,CAAEP,KAAM,SAAUQ,MAAK,kBAAM,eAAc,WAFnC,iCAKtB,iBALsB,kBAOF,OAAAC,EAAA,MAAQ,MAAO,iBAPb,OAOdC,EAPc,OAQpBP,EAAad,MAAQqB,EAAIC,KAAKA,KARV,qDAUpBC,QAAQC,IAAR,MAVoB,QAYtB,iBAZsB,0DAAL,qDAcnB,EAAkB,eAAOV,GAAjBd,EAAR,EAAQA,MAER,MAAO,CAAEe,iBAAgBf,UAGZ,GACbW,KAAM,WACNc,MAFa,WAIX,IAAMC,EAAa,EAAQ,QAC3B,EAAkC,IAA1BX,EAAR,EAAQA,eAAgBf,EAAxB,EAAwBA,MAGxB,OAFAe,IAEO,CAAEW,aAAY1B,W,qBC3DzB,MAAM2B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d207472.07e3e0d7.js","sourcesContent":["<template>\n  <div class=\"p-7 text-white text-2xl\">\n    <div v-show=\"songs.length\">\n      <h2 class=\"mb-5\" v-if=\"songs.length\">收藏的歌曲</h2>\n      <h2 v-else>尚未有收藏歌曲...</h2>\n    </div>\n    <ul class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-5\">\n      <li v-for=\"song in songs\" :key=\"song.id\">\n        <router-link :to=\"{ name: 'song', params: { songId: song.id } }\"\n          class=\"song block p-4 bg-gray-600 hover:bg-gray-500 rounded\">\n          <div class=\"aspect-w-1 aspect-h-1 rounded overflow-hidden mb-4\">\n            <div class=\"absolute inset-0 bg-center filter blur-xl\"\n              :style=\"{backgroundImage: song.image ?\n              'url(' + song.image + ')' : 'url(' + defaultImg + ')' }\"></div>\n            <img :src=\"song.image || require('@/assets/headphone.jpg')\" alt=\"song photo\">\n          </div>\n          <h2 class=\"text-white mb-2\" :title=\"song.name\">{{ song.name }}</h2>\n          <p class=\"text-gray-300\">{{ song.composer }}</p>\n        </router-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue';\nimport { useRouter } from 'vue-router';\nimport storage from '@/includes/storage';\nimport request from '@/includes/request';\nimport { warningNotify } from '@/composables/useNotification';\nimport { showLoading, hideLoading } from '@/composables/useLoading';\n\n// 取得收藏列表\nconst handleFavoriteSong = () => {\n  const router = useRouter();\n  const favoriteList = reactive({ songs: [] });\n\n  const getFaoriteSong = (async () => {\n    if (!storage.get('userToken')) {\n      router.push({ name: 'home' }).then(() => warningNotify('請先登入'));\n      return;\n    }\n    showLoading();\n    try {\n      const res = await request('get', 'v1/music/like');\n      favoriteList.songs = res.data.data;\n    } catch (err) {\n      console.log(err);\n    }\n    hideLoading();\n  });\n  const { songs } = toRefs(favoriteList);\n\n  return { getFaoriteSong, songs };\n};\n\nexport default {\n  name: 'Favorite',\n  setup() {\n    // eslint-disable-next-line global-require\n    const defaultImg = require('../assets/headphone.jpg');\n    const { getFaoriteSong, songs } = handleFavoriteSong();\n    getFaoriteSong();\n\n    return { defaultImg, songs };\n  },\n};\n</script>\n","import { render } from \"./Favorite.vue?vue&type=template&id=28f3d93c\"\nimport script from \"./Favorite.vue?vue&type=script&lang=js\"\nexport * from \"./Favorite.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\xampp\\\\htdocs\\\\song\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}